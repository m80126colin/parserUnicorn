webpackJsonp([1,0],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var a=n(27),i=r(a),u=n(26),o=r(u),s=n(16),l=r(s);i.default.use(o.default);var d=n(2),c=new o.default({routes:d});new i.default({router:c,template:"<App/>",components:{App:l.default}}).$mount("#app")},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var a=n(18),i=r(a),u=n(17),o=r(u),s=n(20),l=r(s),d={template:"<div></div>"};t.exports=[{path:"/",name:"首頁",component:d},{path:"/cloud",name:"文字雲",component:i.default},{path:"/association",name:"關聯分析",component:o.default},{path:"/parser",name:"資料蒐集",component:l.default}]},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(15),i=(r(a),n(19)),u=r(i);e.default={name:"app",components:{Navbar:u.default}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=r(a),u=1;e.default={data:function(){return{files:[{id:0}]}},name:"association",methods:{addFile:function(t){var e=this;e.files.push({id:u}),u++},delFile:function(t){var e=this,n=(0,i.default)(t.target).attr("data-id");e.files.splice(n,1)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(3),o=r(u),s=function(t){t.sort(function(t,e){return-(t[1]-e[1])});var e=t.filter(function(t,e){return e<5e3}),n=function(t,e){return t+e},r=function(t){return function(e){return e-t}},a=function(t){return t*t},u=e.map(function(t){return parseInt(t[1])}),s=u.reduce(n)/u.length,l=Math.sqrt(u.map(r(s)).map(a).reduce(n))/u.length;console.log(u,s,l);var d=function(t){return 0===l?0:(t-s)/l},c=(0,i.default)("#cloud").width()/1024;(0,o.default)(document.getElementById("cloud"),{list:e,fontFamily:"Times, serif",rotateRatio:.5,gridSize:Math.round(16*c),weightFactor:function(t){return c*(d(t)+28)}})};e.default={data:function(){return{link:"",will:""}},name:"cloud",computed:{wont:function(){return this.will.trim().split("\n").map(function(t){return t.trim().split(/\s+/)})}},methods:{cloudHandler:function(t){var e=this,n=new FormData((0,i.default)("#form")[0]);i.default.ajax({type:"POST",url:"/api/cloud",data:n,processData:!1,contentType:!1}).done(function(t){e.link=t.link;var n=JSON.parse(t.list);s(n)})},visualizeData:function(t){s(this.wont)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.default={name:"navbar",data:function(){return{routes:r}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),i=r(a),u=n(1),o=r(u),s=[{id:"token",type:"text",name:"Token",after:'<a target="_blank" href="https://developers.facebook.com/tools/explorer/">到此領取</a>'},{id:"url",type:"text",name:"粉絲專頁連結"},{id:"since",type:"date",name:"開始時間"},{id:"until",type:"date",name:"結束時間"}];e.default={data:function(){return{fields:s,fetch:!1,result:[]}},name:"parser",methods:{getAllPosts:function(t){var e=this,n=s.map(function(t){return t.id}),r={};n.forEach(function(t){r[t]=(0,o.default)("#"+t).val()}),o.default.ajax({type:"POST",url:"/api/allposts",data:(0,i.default)(r),contentType:"application/json",dataType:"json"}).done(function(t){e.fetch=!0,e.result=t})},downloadListener:function(t){var e=(0,o.default)(t.target).attr("data-id"),n="/api/allcomments/"+e+"?token="+(0,o.default)("#token").val();window.open(n,"_blank")}}}},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var r,a;n(12),r=n(4);var i=n(21);a=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(a=r=r.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e,n){var r,a;r=n(5);var i=n(22);a=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(a=r=r.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e,n){var r,a;r=n(6);var i=n(24);a=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(a=r=r.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e,n){var r,a;n(14),r=n(7);var i=n(25);a=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(a=r=r.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e,n){var r,a;n(13),r=n(8);var i=n(23);a=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(a=r=r.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=r},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"pure-g"},[e("div",{staticClass:"pure-u-1-6"}),t._v(" "),e("div",{staticClass:"pure-u-2-3"},[e("navbar"),t._v(" "),e("router-view")]),t._v(" "),e("div",{staticClass:"pure-u-1-6"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{attrs:{id:"association"}},[e("form",{staticClass:"pure-form pure-form-aligned",attrs:{id:"form",method:"post",enctype:"multipart/form-data"}},[e("fieldset",t._l(t.files,function(n,r){return e("div",{key:n.id,staticClass:"pure-control-group",attrs:{"data-tag":n.id}},[e("label",{attrs:{for:"file"+r}},[t._v("檔案 "+t._s(r))]),t._v(" "),e("input",{staticClass:"pure-input-1",attrs:{id:"file"+r,type:"file",name:"file"+r}}),t._v(" "),e("button",{staticClass:"pure-button",attrs:{"data-id":r},on:{click:function(e){e.preventDefault(),t.delFile(e)}}},[t._v("刪除")])])})),t._v(" "),e("div",{staticClass:"pure-controls"},[e("button",{staticClass:"pure-button",on:{click:function(e){e.preventDefault(),t.addFile(e)}}},[t._v("新增")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{attrs:{id:"parser"}},[e("form",{staticClass:"pure-form pure-form-aligned",attrs:{id:"form"}},[e("fieldset",[t._l(t.fields,function(n){return e("div",{staticClass:"pure-control-group"},[e("label",{attrs:{for:n.id}},[t._v(t._s(n.name))]),t._v(" "),e("input",{attrs:{type:n.type,id:n.id}}),t._v(" "),"after"in n?e("span",{domProps:{innerHTML:t._s(n.after)}}):t._e()])}),t._v(" "),e("div",{staticClass:"pure-controls"},[e("button",{staticClass:"pure-button pure-button-primary",on:{click:t.getAllPosts}},[t._v("送出")])])],!0)]),t._v(" "),t.fetch?e("div",{attrs:{id:"msg"}},[e("p",[t._v("共有 "+t._s(t.result.length)+" 筆結果。")])]):t._e(),t._v(" "),t.result.length?e("table",{staticClass:"pure-table pure-table-bordered",attrs:{id:"result"}},[e("thead",[e("tr",[e("th",[t._v("#")]),t._v(" "),t._l(Object.keys(t.result[0]),function(n){return e("th",[t._v(t._s(n))])}),t._v(" "),e("th",[t._v("Link")]),t._v(" "),e("th",[t._v("Download")])],!0)]),t._v(" "),e("tbody",t._l(t.result,function(n,r){return e("tr",{key:r},[e("td",[t._v(t._s(r))]),t._v(" "),t._l(Object.values(n),function(n){return e("td",[t._v(t._s(n))])}),t._v(" "),e("td",[e("a",{staticClass:"pure-button",attrs:{target:"_blank",href:"https://www.facebook.com/"+n.id}},[t._v("連結")])]),t._v(" "),e("td",[e("button",{staticClass:"pure-button pure-button-primary parser-download",attrs:{"data-id":n.id},on:{click:t.downloadListener}},[t._v("下載")])])],!0)}))]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"cloud"},[e("form",{staticClass:"pure-form pure-form-stacked",attrs:{id:"form",method:"post",enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),t.cloudHandler(e)}}},[t._m(0)]),t._v(" "),t.link?e("div",{attrs:{id:"count"}},[e("a",{staticClass:"pure-button",attrs:{target:"_blank",href:t.link}},[t._v("下載")])]):t._e(),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.will,expression:"will"}],attrs:{id:"dd",cols:"30",rows:"10"},domProps:{value:t._s(t.will)},on:{input:function(e){e.target.composing||(t.will=e.target.value)}}}),t._v(" "),e("div",{attrs:{id:"rr"}},[t.wont.length?e("table",{staticClass:"pure-table pure-table-bordered"},[e("tbody",t._l(t.wont,function(n){return e("tr",t._l(n,function(n){return e("td",[t._v(t._s(n))])}))}))]):t._e()]),t._v(" "),e("button",{staticClass:"pure-button pure-button-primary",on:{click:function(e){e.preventDefault(),t.visualizeData(e)}}},[t._v("GO")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=(t.$createElement,t._c);return e("fieldset",[e("input",{staticClass:"pure-input-1",attrs:{id:"data",type:"file",name:"data"}}),t._v(" "),e("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"submit"}},[t._v("上傳")])])},function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"canvas-container"},[e("canvas",{attrs:{id:"cloud",width:"800",height:"600"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("nav",{staticClass:"pure-menu pure-menu-horizontal",attrs:{id:"navbar"}},[e("ul",{staticClass:"pure-menu-list"},t._l(t.routes,function(n){return e("li",{staticClass:"pure-menu-item"},[e("router-link",{staticClass:"pure-menu-link",attrs:{to:n.path}},[t._v("\r\n    "+t._s(n.name)+"\r\n    ")])])}))])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.43c91321285959db7b78.js.map