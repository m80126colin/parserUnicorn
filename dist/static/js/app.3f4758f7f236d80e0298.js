webpackJsonp([2,0],{0:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var r=n(91),i=a(r),u=n(90),s=a(u),o=n(80),l=a(o);i.default.use(s.default);var d=n(10),c=new s.default({routes:d});new i.default({router:c,template:"<App/>",components:{App:l.default}}).$mount("#app")},10:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var r=n(82),i=a(r),u=n(81),s=a(u),o=n(84),l=a(o),d={template:"<div></div>"};t.exports=[{path:"/",name:"首頁",component:d},{path:"/parser",name:"資料蒐集",component:l.default},{path:"/cloud",name:"文字雲",component:i.default},{path:"/association",name:"關聯分析",component:s.default}]},27:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),i=(a(r),n(83)),u=a(i);e.default={name:"app",components:{Navbar:u.default}}},28:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=a(r),u=1;e.default={data:function(){return{files:[{id:0}],link:"",link2:"",result:[]}},name:"association",methods:{addFile:function(t){var e=this;e.files.push({id:u}),u++},delFile:function(t){var e=this,n=(0,i.default)(t.target).attr("data-id");e.files.splice(n,1)},associHandler:function(t){var e=this,n=new FormData((0,i.default)("#form")[0]);i.default.ajax({type:"POST",url:"/api/associ",data:n,processData:!1,contentType:!1}).done(function(t){e.link=t.link,e.link2=t.link2,e.result=JSON.parse(t.list)})}}}},29:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=a(r),u=n(4),s=a(u),o=n(40),l=a(o),d=n(26),c=a(d);window.stat=l.default,e.default={data:function(){return{width:1e3,link:"",will:"",cloudData:[]}},name:"cloud",computed:{height:function(){return Math.floor(.75*this.width)},wont:function(){return(this.will||"").trim().split("\n").map(function(t){return t.trim().split(/\s+/)})}},watch:{cloudData:function(t){if(Array.isArray(t)&&0!==t.length){var e=this,n=1e4,a=i.default.chain(t).map(function(t){return"number"!=typeof t[1]&&(t[1]=0),t}).sort(function(t,e){return e[1]-t[1]}).take(n).value(),r=i.default.map(a,function(t){return t[1]}),u=l.default.mean(r),o=l.default.standardDeviation(r),d=(0,s.default)("#cloud").width()/e.width,f=function(t){return l.default.zScore(t,u,o)||0},p=f(l.default.max(r));(0,c.default)(document.getElementById("cloud"),{list:a,fontFamily:"Times, serif, 標楷體",rotateRatio:.5,gridSize:Math.round(6*d),weightFactor:function(t){return 12*d*(7*f(t)/p+.75)}})}}},methods:{cloudHandler:function(t){var e=this,n=new FormData((0,s.default)("#form")[0]);s.default.ajax({type:"POST",url:"/api/cloud",data:n,processData:!1,contentType:!1}).done(function(t){var n=JSON.parse(t.list);e.link=t.link,e.cloudData=n})},visualizeData:function(t){var e=this;e.cloudData=i.default.map(e.wont,function(t){return[t[0],parseInt(t[1])||0]})}}}},30:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(10);e.default={name:"navbar",data:function(){return{routes:a}}}},31:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(32),i=a(r),u=n(4),s=a(u),o=[{id:"token",type:"text",name:"Token",after:'<a target="_blank" href="https://developers.facebook.com/tools/explorer/">到此領取</a>'},{id:"url",type:"text",name:"粉絲專頁連結"},{id:"since",type:"date",name:"開始時間"},{id:"until",type:"date",name:"結束時間"}];e.default={data:function(){return{fields:o,fetch:!1,result:[]}},name:"parser",methods:{getAllPosts:function(t){var e=this,n=o.map(function(t){return t.id}),a={};n.forEach(function(t){a[t]=(0,s.default)("#"+t).val()}),s.default.ajax({type:"POST",url:"/api/allposts",data:(0,i.default)(a),contentType:"application/json",dataType:"json"}).done(function(t){e.fetch=!0,e.result=t})},downloadListener:function(t){var e=(0,s.default)(t.target).attr("data-id"),n="/api/allcomments/"+e+"?token="+(0,s.default)("#token").val();window.open(n,"_blank")}}}},35:function(t,e){},36:function(t,e){},37:function(t,e){},38:function(t,e){},80:function(t,e,n){var a,r;n(35),a=n(27);var i=n(85);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},81:function(t,e,n){var a,r;a=n(28);var i=n(86);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},82:function(t,e,n){var a,r;a=n(29);var i=n(88);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},83:function(t,e,n){var a,r;n(37),a=n(30);var i=n(89);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},84:function(t,e,n){var a,r;n(36),a=n(31);var i=n(87);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=a},85:function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"pure-g"},[e("div",{staticClass:"pure-u-1-6"}),t._v(" "),e("div",{staticClass:"pure-u-2-3"},[e("navbar"),t._v(" "),e("router-view")]),t._v(" "),e("div",{staticClass:"pure-u-1-6"})])])},staticRenderFns:[]}},86:function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{attrs:{id:"association"}},[e("form",{staticClass:"pure-form pure-form-aligned",attrs:{id:"form",method:"post",enctype:"multipart/form-data"}},[e("fieldset",t._l(t.files,function(n,a){return e("div",{key:n.id,staticClass:"pure-control-group",attrs:{"data-tag":n.id}},[e("label",{attrs:{for:"file"+a}},[t._v("檔案 "+t._s(a))]),t._v(" "),e("input",{staticClass:"pure-input-1-2",attrs:{id:"file"+a,type:"file",name:"file"+a}}),t._v(" "),e("button",{staticClass:"pure-button",attrs:{"data-id":a},on:{click:function(e){e.preventDefault(),t.delFile(e)}}},[t._v("刪除")])])})),t._v(" "),e("div",{staticClass:"pure-controls"},[e("button",{staticClass:"pure-button",on:{click:function(e){e.preventDefault(),t.addFile(e)}}},[t._v("新增")]),t._v(" "),e("button",{staticClass:"pure-button pure-button-primary",on:{click:function(e){e.preventDefault(),t.associHandler(e)}}},[t._v("送出")])]),t._v(" "),e("div",{attrs:{id:"result"}},[t.link?e("div",{attrs:{id:"apriori"}},[e("a",{staticClass:"pure-button",attrs:{target:"_blank",href:t.link}},[t._v("下載關聯矩陣")])]):t._e(),t._v(" "),t.link2?e("div",{attrs:{id:"apriori"}},[e("a",{staticClass:"pure-button",attrs:{target:"_blank",href:t.link2}},[t._v("下載關聯規則")])]):t._e(),t._v(" "),t.result.length?e("table",{staticClass:"pure-table pure-table-bordered"},[t._m(0),t._v(" "),e("tbody",t._l(t.result,function(n){return e("tr",[e("td",[t._v(t._s(n.itema)+" => "+t._s(n.itemb))]),t._v(" "),e("td",[t._v(t._s(n.support))]),t._v(" "),e("td",[t._v(t._s(n.confident))])])}))]):t._e()])])])},staticRenderFns:[function(){var t=this,e=(t.$createElement,t._c);return e("thead",[e("tr",[e("th",[t._v("Rules")]),t._v(" "),e("th",[t._v("Support")]),t._v(" "),e("th",[t._v("Confident")])])])}]}},87:function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{attrs:{id:"parser"}},[e("form",{staticClass:"pure-form pure-form-aligned",attrs:{id:"form"}},[e("fieldset",[t._l(t.fields,function(n){return e("div",{staticClass:"pure-control-group"},[e("label",{attrs:{for:n.id}},[t._v(t._s(n.name))]),t._v(" "),e("input",{attrs:{type:n.type,id:n.id}}),t._v(" "),"after"in n?e("span",{domProps:{innerHTML:t._s(n.after)}}):t._e()])}),t._v(" "),e("div",{staticClass:"pure-controls"},[e("button",{staticClass:"pure-button pure-button-primary",on:{click:function(e){e.preventDefault(),t.getAllPosts(e)}}},[t._v("送出")])])],!0)]),t._v(" "),t.fetch?e("div",{attrs:{id:"msg"}},[e("p",[t._v("共有 "+t._s(t.result.length)+" 筆結果。")])]):t._e(),t._v(" "),t.result.length?e("table",{staticClass:"pure-table pure-table-bordered",attrs:{id:"result"}},[e("thead",[e("tr",[e("th",[t._v("#")]),t._v(" "),t._l(Object.keys(t.result[0]),function(n){return e("th",[t._v(t._s(n))])}),t._v(" "),e("th",[t._v("Link")]),t._v(" "),e("th",[t._v("Download")])],!0)]),t._v(" "),e("tbody",t._l(t.result,function(n,a){return e("tr",{key:a},[e("td",[t._v(t._s(a))]),t._v(" "),t._l(Object.values(n),function(n){return e("td",[t._v(t._s(n))])}),t._v(" "),e("td",[e("a",{staticClass:"pure-button",attrs:{target:"_blank",href:"https://www.facebook.com/"+n.id}},[t._v("連結")])]),t._v(" "),e("td",[e("button",{staticClass:"pure-button pure-button-primary parser-download",attrs:{"data-id":n.id},on:{click:t.downloadListener}},[t._v("下載")])])],!0)}))]):t._e()])},staticRenderFns:[]}},88:function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{staticClass:"cloud"},[e("form",{staticClass:"pure-form pure-form-stacked",attrs:{id:"form",method:"post",enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),t.cloudHandler(e)}}},[t._m(0)]),t._v(" "),t.link?e("div",{attrs:{id:"count"}},[e("a",{staticClass:"pure-button",attrs:{target:"_blank",href:t.link}},[t._v("下載")])]):t._e(),t._v(" "),t._e(),t._v(" "),e("div",{staticClass:"canvas-container"},[e("canvas",{attrs:{id:"cloud",width:t.width,height:t.height}})])])},staticRenderFns:[function(){var t=this,e=(t.$createElement,t._c);return e("fieldset",[e("input",{staticClass:"pure-input-1",attrs:{id:"data",type:"file",name:"data"}}),t._v(" "),e("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"submit"}},[t._v("上傳")])])}]}},89:function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("nav",{staticClass:"pure-menu pure-menu-horizontal",attrs:{id:"navbar"}},[e("ul",{staticClass:"pure-menu-list"},t._l(t.routes,function(n){return e("li",{staticClass:"pure-menu-item"},[e("router-link",{staticClass:"pure-menu-link",attrs:{to:n.path}},[t._v("\r\n    "+t._s(n.name)+"\r\n    ")])])}))])},staticRenderFns:[]}}});
//# sourceMappingURL=app.3f4758f7f236d80e0298.js.map